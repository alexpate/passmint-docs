{
"openapi": "3.0.2",
"paths": {
"/": {
"get": {
"summary": "Get API root",
"tags": [],
"parameters": [],
"responses": {
"200": {
"description": "200",
"content": {
"application/json": {
"schema": {
"type": "object",
"properties": {
"message": {
"type": "string"
}
},
"required": [
"message"
]
}
}
}
}
}
}
},
"/sha": {
"get": {
"summary": "Get SHA of the API",
"tags": [],
"parameters": [],
"responses": {
"200": {
"description": "200",
"content": {
"application/json": {
"schema": {
"type": "object",
"properties": {
"sha": {
"type": "string"
}
},
"required": [
"sha"
]
}
}
}
}
}
}
},
"/apple/devices/{deviceLibraryIdentifier}/registrations/{passTypeIdentifier}/{serialNumber}": {
"post": {
"summary": "Register an Apple device",
"tags": [],
"parameters": [
{
"name": "deviceLibraryIdentifier",
"in": "path",
"required": true,
"schema": {
"type": "string"
}
},
{
"name": "passTypeIdentifier",
"in": "path",
"required": true,
"schema": {
"type": "string"
}
},
{
"name": "serialNumber",
"in": "path",
"required": true,
"schema": {
"type": "string"
}
},
{
"name": "authorization",
"in": "header",
"required": true,
"schema": {
"type": "string"
}
}
],
"requestBody": {
"description": "Body",
"content": {
"application/json": {
"schema": {
"type": "object",
"properties": {
"pushToken": {
"type": "string"
}
},
"required": [
"pushToken"
]
}
}
}
},
"responses": {
"200": {
"description": "200",
"content": {
"application/json": {
"schema": {
"type": "object",
"properties": {
"message": {
"type": "string"
}
},
"required": [
"message"
]
}
}
}
}
}
},
"delete": {
"summary": "Unregister an Apple device",
"tags": [],
"parameters": [
{
"name": "deviceLibraryIdentifier",
"in": "path",
"required": true,
"schema": {
"type": "string"
}
},
{
"name": "passTypeIdentifier",
"in": "path",
"required": true,
"schema": {
"type": "string"
}
},
{
"name": "serialNumber",
"in": "path",
"required": true,
"schema": {
"type": "string"
}
},
{
"name": "authorization",
"in": "header",
"required": true,
"schema": {
"type": "string"
}
}
],
"responses": {
"200": {
"description": "200",
"content": {
"application/json": {
"schema": {
"type": "object",
"properties": {
"message": {
"type": "string"
}
},
"required": [
"message"
]
}
}
}
}
}
}
},
"/passes": {
"post": {
"summary": "Create a new pass",
"tags": [],
"parameters": [
{
"name": "x-api-key",
"in": "header",
"required": true,
"schema": {
"type": "string"
}
}
],
"requestBody": {
"description": "Body",
"content": {
"application/json": {
"schema": {
"type": "object",
"properties": {
"templateId": {
"type": "string"
},
"data": {
"type": "object",
"additionalProperties": {
"nullable": true
}
}
},
"required": [
"templateId",
"data"
]
}
}
}
},
"responses": {
"201": {
"description": "201",
"content": {
"application/json": {
"schema": {
"type": "object",
"properties": {
"apple": {
"type": "string"
},
"google": {
"type": "string"
}
},
"required": [
"apple",
"google"
]
}
}
}
},
"400": {
"description": "400",
"content": {
"application/json": {
"schema": {
"type": "object",
"properties": {
"message": {
"type": "string"
}
},
"required": [
"message"
]
}
}
}
},
"401": {
"description": "401",
"content": {
"application/json": {
"schema": {
"type": "object",
"properties": {
"message": {
"type": "string"
}
},
"required": [
"message"
]
}
}
}
},
"404": {
"description": "404",
"content": {
"application/json": {
"schema": {
"type": "object",
"properties": {
"message": {
"type": "string"
}
},
"required": [
"message"
]
}
}
}
},
"500": {
"description": "500",
"content": {
"application/json": {
"schema": {
"type": "object",
"properties": {
"message": {
"type": "string"
}
},
"required": [
"message"
]
}
}
}
}
}
}
},
"/passes/{passTypeIdentifier}/{serialNumber}": {
"get": {
"summary": "Get pass updates",
"tags": [],
"parameters": [
{
"name": "passTypeIdentifier",
"in": "path",
"required": true,
"schema": {
"type": "string"
}
},
{
"name": "serialNumber",
"in": "path",
"required": true,
"schema": {
"type": "string"
}
},
{
"name": "authorization",
"in": "header",
"required": true,
"schema": {
"type": "string"
}
}
],
"responses": {
"200": {
"description": "200",
"content": {
"application/json": {
"schema": {
"type": "object",
"properties": {
"message": {
"type": "string"
}
},
"required": [
"message"
]
}
}
}
},
"401": {
"description": "401",
"content": {
"application/json": {
"schema": {
"type": "object",
"properties": {
"message": {
"type": "string"
}
},
"required": [
"message"
]
}
}
}
}
}
}
}
},
"info": {
"title": "PassMint API",
"version": "1.0.0",
"description": "API for managing digital passes"
},
"servers": [
{
"url": "http://localhost:3002",
"description": "API Server"
}
],
"components": {
"securitySchemes": {
"apiKey": {
"type": "apiKey",
"in": "header",
"name": "x-api-key"
},
"applePassAuth": {
"type": "apiKey",
"in": "header",
"name": "authorization",
"description": "Apple Pass Authentication Token"
}
}
},
"security": [
{
"apiKey": []
}
]
}